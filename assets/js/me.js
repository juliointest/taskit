function remove(a){var e=$(a).attr("rev"),t=$(a).attr("type"),o=$(a);confirm("Do you really want to remove this "+t+"?")&&$.post("http://server-url-here/userdata/remove",{dataid:e}).done(function(a){JSON.parse(a).removed?(Materialize.toast("Rest in peace, dear "+t+"!",7e3,"rounded"),o.parent().remove()):Materialize.toast("Catastrophic error!",7e3,"rounded")})}$(document).ready(function(){$(".button-collapse").sideNav(),$(".modal").modal(),$("#changeAboutYou").click(function(){var a=$('#aboutyou input[name="name"]').val();""==a?(Materialize.toast("Ask to change your name and do not tell it, does not make sense!",7e3,"rounded"),$('#aboutyou input[name="name"]').addClass("invalid").removeClass("valid")):$.post("http://server-url-here/user/change",{name:a}).done(function(e){JSON.parse(e).changed?(Materialize.toast("Now you will be called "+a+"!",7e3,"rounded"),$(".me").text("Hi, "+a),$("h4").text("Hi, "+a),$("title").text("Task it! - "+a+"private page"),$('#aboutyou input[name="name"]').removeClass("valid").removeClass("invalid")):(Materialize.toast("Catastrophic error!",7e3,"rounded"),$('#aboutyou input[name="name"]').removeClass("valid").removeClass("invalid"))})}),$("#changeMyPassword").click(function(){var a=$('#secret input[name="password"]').val();""==a?(Materialize.toast("Do not be afraid, we will not share your secret!",7e3,"rounded"),$('#secret input[name="password"]').addClass("invalid").removeClass("valid")):$.post("http://server-url-here/user/change",{password:a}).done(function(a){JSON.parse(a).changed?(Materialize.toast("You have a new secret, please do not share it!",7e3,"rounded"),$('#secret input[name="password"]').val(""),$('#secret input[name="password"]').removeClass("valid").removeClass("invalid")):(Materialize.toast("Catastrophic error!",7e3,"rounded"),$('#secret input[name="password"]').removeClass("valid").removeClass("invalid"))})}),$("#addmoredata .modal-action").click(function(){var a=$('#addmoredata input[name="contact"]').val(),e=$('#addmoredata select[name="type"]').val();""==a?(Materialize.toast("I think that you forget to tell me something!",7e3,"rounded"),$('#addmoredata input[name="contact"]').addClass("invalid").removeClass("valid")):$.post("http://server-url-here/userdata/save",{datatype:e,contact:a}).done(function(a){var e=JSON.parse(a);e.saved?(Materialize.toast("Your contact has been added!",7e3,"rounded"),$("#moredata .collection").append('<li class="collection-item avatar">  <i class="material-icons circle">'+e.data.userdatatype+'</i>  <span class="title">'+e.data.userdatavalue+"</span><br />  <small>This is your "+e.data.userdatatype+'</small>  <a class="secondary-content button" onclick="remove(this)" rev="'+e.data.userdataid+'" type="'+e.data.userdatatype+'"><i class="material-icons grey-text">delete</i></a></li>'),$('#addmoredata input[name="contact"]').val(""),$('#addmoredata input[name="contact"]').removeClass("invalid").removeClass("valid"),$("#addmoredata").modal("close")):(Materialize.toast("Catastrophic error!",7e3,"rounded"),$('#addmoredata input[name="contact"]').removeClass("valid").removeClass("invalid"))})})});
